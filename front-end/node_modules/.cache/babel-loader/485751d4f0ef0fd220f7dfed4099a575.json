{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phasi\\\\Documents\\\\GitHub\\\\Requesting-permission-to-use-photos-system-PDPA-\\\\front-end\\\\src\\\\LoginForm.js\";\nimport auth from './firebase/index';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Container, Row, Col, Alert } from 'react-bootstrap';\nimport Nevbar from './Nevbar.js';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const form = e.currentTarget;\n      const {\n        email,\n        password\n      } = this.state;\n\n      if (form.checkValidity() === true) {\n        auth.signInWithEmailAndPassword(email, password).then(response => {\n          console.log(\"OK\");\n          this.setState({\n            currentUser: response.user\n          });\n          this.props.history.push('/');\n        }).catch(error => {\n          this.setState({\n            showAlert: true\n          });\n        });\n      }\n\n      this.setState({\n        validate: true\n      });\n      e.stopPropagation();\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      currentUser: null,\n      showAlert: false,\n      validate: false\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          currentUser: user\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      showAlert,\n      currentUser,\n      validate\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nevbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }), showAlert ? /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07 \\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E43\\u0E2B\\u0E21\\u0E48\\u0E2D\\u0E35\\u0E01\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\") : \"\", /*#__PURE__*/React.createElement(Row, {\n      className: \" mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      sm: {\n        span: 10\n      },\n      md: {\n        span: 4,\n        offset: 2\n      },\n      lg: {\n        span: 3,\n        offset: 4\n      },\n      className: \"p-5 Loginbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \" \\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"), /*#__PURE__*/React.createElement(Form, {\n      noValidate: true,\n      validated: validate,\n      onSubmit: this.onSubmit,\n      className: \"mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"email\",\n      type: \"email\",\n      onChange: this.onChange,\n      placeholder: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\")), /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      className: \"mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"password\",\n      onChange: this.onChange,\n      type: \"password\",\n      placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      block: true,\n      className: \"mt-4 btn-custom\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      block: true,\n      className: \"mt-4 btn-custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, \"\\u0E25\\u0E37\\u0E21\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\")))))));\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/phasi/Documents/GitHub/Requesting-permission-to-use-photos-system-PDPA-/front-end/src/LoginForm.js"],"names":["auth","React","useState","Link","Form","Button","Container","Row","Col","Alert","Nevbar","LoginForm","Component","constructor","props","onChange","e","name","value","target","setState","onSubmit","preventDefault","form","currentTarget","email","password","state","checkValidity","signInWithEmailAndPassword","then","response","console","log","currentUser","user","history","push","catch","error","showAlert","validate","stopPropagation","componentDidMount","onAuthStateChanged","render","span","offset"],"mappings":"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","sourcesContent":["import auth from './firebase/index'\r\nimport React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Container, Row, Col, Alert } from 'react-bootstrap'\r\nimport Nevbar from './Nevbar.js'\r\n\r\nclass LoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            currentUser: null,\r\n            showAlert: false,\r\n            validate: false,\r\n        }\r\n    }\r\n\r\n    onChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault()\r\n        const form = e.currentTarget\r\n        const { email, password } = this.state\r\n        if (form.checkValidity() === true) {\r\n            auth\r\n                .signInWithEmailAndPassword(email, password)\r\n                .then(response => {\r\n                    console.log(\"OK\")\r\n                    this.setState({\r\n                        currentUser: response.user\r\n                    })\r\n                    this.props.history.push('/')\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        showAlert: true\r\n                    })\r\n                })\r\n            }\r\n            this.setState({\r\n                validate: true\r\n            })\r\n            e.stopPropagation();\r\n    }\r\n\r\n    componentDidMount() {\r\n        auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({\r\n                    currentUser: user\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { showAlert, currentUser, validate } = this.state\r\n\r\n        return (\r\n\r\n            <Container fluid >\r\n                <Nevbar />\r\n                {showAlert ?\r\n                    <Alert variant=\"danger\">\r\n                        อีเมล์หรือรหัสผ่านไม่ถูกต้อง กรุณากรอกใหม่อีกครั้ง\r\n                        </Alert>\r\n                    :\r\n                    \"\"\r\n                }\r\n                <Row className=\" mt-5\">\r\n                    <Col xs={12} sm={{ span: 10 }} md={{ span: 4, offset: 2 }} lg={{ span: 3, offset: 4 }} className=\"p-5 Loginbox\">\r\n                        <h1 className=\"text-center mt-3\"> เข้าสู่ระบบ</h1>\r\n                        <Form noValidate validated={validate} onSubmit={this.onSubmit} className=\"mt-4\">\r\n                            <Form.Label>Email address</Form.Label>\r\n                            <Form.Group controlId=\"formBasicEmail\" >\r\n                                <Form.Control name=\"email\" type=\"email\" onChange={this.onChange} placeholder=\"อีเมล์\" required />\r\n                                <Form.Control.Feedback type=\"invalid\">\r\n                                    กรุณากรอกอีเมล์\r\n                                </Form.Control.Feedback>\r\n                            </Form.Group>\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Group controlId=\"formBasicPassword\" className=\"mt-1\">\r\n                                <Form.Control name=\"password\" onChange={this.onChange} type=\"password\" placeholder=\"รหัสผ่าน\" required />\r\n                                <Form.Control.Feedback type=\"invalid\">\r\n                                    กรุณารหัสผ่าน\r\n                                </Form.Control.Feedback>\r\n                            </Form.Group>\r\n                            <Button variant=\"secondary\" block className=\"mt-4 btn-custom\" type=\"submit\" >\r\n                                Login\r\n                            </Button>\r\n                            <Link to=\"/Register\">\r\n                                <Button variant=\"secondary\" block className=\"mt-4 btn-custom\" >\r\n                                    Register\r\n                                </Button>\r\n                            </Link>\r\n                            <Row className=\"mt-3\">\r\n                                <Col className=\"text-right\">\r\n                                    <Link to=\"#\">ลืมรหัสผ่าน</Link>\r\n                                </Col>\r\n                            </Row>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}