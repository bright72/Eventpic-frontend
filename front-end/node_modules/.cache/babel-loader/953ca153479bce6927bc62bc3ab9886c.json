{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phasi\\\\Documents\\\\GitHub\\\\Requesting-permission-to-use-photos-system-PDPA-\\\\front-end\\\\src\\\\ListofEvent.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Container, Col, Card } from 'react-bootstrap';\nimport Nevbar from './Nevbar.js';\nimport './Style.css';\nimport firebase, { database } from './firebase/indexstore';\nimport auth from './firebase/index';\nimport Login from './LoginForm.js';\n\nclass ListofEvent extends Component {\n  constructor() {\n    super();\n    this.state = {\n      events: [],\n      event_id: '',\n      name: '',\n      detail: '',\n      start_date: '',\n      end_date: '',\n      start_time: '',\n      end_time: '',\n      dateline: '',\n      currentUser: null\n    };\n  }\n\n  componentDidMount() {\n    const itemsRef = firebase.database().ref('/events');\n    itemsRef.on('value', snapshot => {\n      let events = snapshot.val();\n      let newState = [];\n\n      for (let item in events) {\n        if (item) {\n          newState.push({\n            event_id: item,\n            name: events[item].name,\n            detail: events[item].detail,\n            start_date: events[item].start_date,\n            end_date: events[item].end_date,\n            start_time: events[item].start_time,\n            end_time: events[item].end_time,\n            dateline: events[item].dateline\n          });\n        }\n      }\n\n      auth.onAuthStateChanged(user => {\n        if (user) {\n          this.setState({\n            currentUser: user\n          });\n        }\n      });\n      this.setState({\n        events: newState\n      });\n    });\n  }\n\n  render() {\n    const {\n      message,\n      currentUser\n    } = this.state;\n\n    if (currentUser) {\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Nevbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }), this.state.events.map(item => {\n        return /*#__PURE__*/React.createElement(Col, {\n          xs: 12,\n          sm: {\n            span: 10\n          },\n          md: {\n            span: 8,\n            offset: 2\n          },\n          lg: {\n            span: 8,\n            offset: 2\n          },\n          className: \"p-3 Loginbox mt-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(Card.Title, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 45\n          }\n        }, item.name), /*#__PURE__*/React.createElement(Card.Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 45\n          }\n        }, item.detail), /*#__PURE__*/React.createElement(Card.Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 45\n          }\n        }, item.start_date), /*#__PURE__*/React.createElement(Link, {\n          to: \"/MoreDetail/\" + item.event_id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"dark m-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 49\n          }\n        }, \"View Detail\")))));\n      }));\n    }\n\n    if (!currentUser) {\n      return /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      });\n    }\n  }\n\n}\n\nexport default ListofEvent;","map":{"version":3,"sources":["C:/Users/phasi/Documents/GitHub/Requesting-permission-to-use-photos-system-PDPA-/front-end/src/ListofEvent.js"],"names":["React","Component","Link","Button","Container","Col","Card","Nevbar","firebase","database","auth","Login","ListofEvent","constructor","state","events","event_id","name","detail","start_date","end_date","start_time","end_time","dateline","currentUser","componentDidMount","itemsRef","ref","on","snapshot","val","newState","item","push","onAuthStateChanged","user","setState","render","message","map","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Container, Col, Card, } from 'react-bootstrap'\r\nimport Nevbar from './Nevbar.js'\r\nimport './Style.css'\r\nimport firebase, { database } from './firebase/indexstore'\r\nimport auth from './firebase/index'\r\nimport Login from './LoginForm.js'\r\n\r\nclass ListofEvent extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            events: [],\r\n            event_id: '',\r\n            name: '',\r\n            detail: '',\r\n            start_date: '',\r\n            end_date: '',\r\n            start_time: '',\r\n            end_time: '',\r\n            dateline: '',\r\n            currentUser: null\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        const itemsRef = firebase.database().ref('/events');\r\n        itemsRef.on('value', (snapshot) => {\r\n            let events = snapshot.val();\r\n            let newState = [];\r\n            for (let item in events) {\r\n                if (item) {\r\n                    newState.push({\r\n                        event_id: item,\r\n                        name: events[item].name,\r\n                        detail: events[item].detail,\r\n                        start_date: events[item].start_date,\r\n                        end_date: events[item].end_date,\r\n                        start_time: events[item].start_time,\r\n                        end_time: events[item].end_time,\r\n                        dateline: events[item].dateline\r\n                    })\r\n                }\r\n\r\n            }\r\n\r\n            auth.onAuthStateChanged(user => {\r\n                if (user) {\r\n                    this.setState({\r\n                        currentUser: user\r\n                    })\r\n                }\r\n            })\r\n\r\n            this.setState({\r\n                events: newState\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { message, currentUser } = this.state\r\n        if (currentUser) {\r\n            return (\r\n                <Container fluid >\r\n                    <Nevbar />\r\n                    {\r\n                        this.state.events.map((item) => {\r\n                            return (\r\n                                <Col\r\n                                    xs={12}\r\n                                    sm={{ span: 10 }}\r\n                                    md={{ span: 8, offset: 2 }}\r\n                                    lg={{ span: 8, offset: 2 }}\r\n                                    className=\"p-3 Loginbox mt-3\"\r\n                                >\r\n                                    <Card>\r\n                                        <Card.Body>\r\n                                            <Card.Title>{item.name}</Card.Title>\r\n                                            <Card.Text>{item.detail}</Card.Text>\r\n                                            <Card.Text>{item.start_date}</Card.Text>\r\n                                            <Link to={\"/MoreDetail/\" + item.event_id} >\r\n                                                <Button variant=\"dark m-1\" >View Detail</Button>\r\n                                            </Link>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Container >\r\n            )\r\n        }\r\n        if (!currentUser) {\r\n            return (\r\n                <Login />\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default ListofEvent;"]},"metadata":{},"sourceType":"module"}